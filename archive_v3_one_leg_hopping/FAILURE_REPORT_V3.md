# V3 실패 분석 보고서 (한 다리 호핑/무릎 크롤링)

## 1. 실험 개요
- **실험 일시**: 2025-12-07 (두 번째 시도)
- **보상 함수 버전**: V3 (교차 보행 유도)
- **주요 변경 사항**:
    - 전진 보상 가중치 5.0
    - 엉덩이 관절 속도의 곱이 음수일 때 `gait_reward` +2.0 부여
    - Standstill Penalty 추가

## 2. 관찰된 현상 (Symptoms)
- 로봇이 **한쪽 다리만 반복적으로 앞으로 내밀며 이동** (한 발 밀어치기)
- 또는 **한쪽 무릎을 땅에 꿇은 채로 기어가는 형태**로 전진
- 두 다리를 번갈아 사용하는 자연스러운 보행이 아님

## 3. 원인 분석 (Root Cause Analysis)
**"엉덩이 관절 속도만으로는 진짜 걸음을 판단할 수 없다"**

### 문제점
1.  **Gait Reward 조건의 허점**:
    - 조건: `hip1_vel * hip2_vel < -0.01` (두 다리 속도가 반대 방향)
    - 허점: 한 다리를 빠르게 휘두르면서 다른 다리는 살짝만 움직여도 조건을 만족함.
    - 무릎을 꿇고 있어도 엉덩이 관절만 움직이면 보상을 받음.
2.  **발이 땅에 닿았는지(Ground Contact) 확인하지 않음**:
    - "걷는다"는 것은 발이 땅을 딛고 밀어내는 것인데, 이 물리적 조건이 보상에 전혀 반영되지 않았음.
3.  **자세 높이(Height) 제약 없음**:
    - 로봇이 낮게 기어가도 페널티가 없어서, 넘어질 위험을 줄이기 위해 무릎을 꿇는 전략이 유리했음.

## 4. 해결 방안 (V4 신규 설계)
**"발 접촉 교대(Foot Contact Alternation)" + "자세 높이(Upright Posture)" 조건 추가**

### 신규 보상 항목
1.  **Gait Contact Reward**: 한 발만 땅에 닿아 있을 때(XOR) 큰 보너스.
2.  **Upright Penalty**: 수직 방향으로 떨어지면 페널티 (무릎 꿇기/기어가기 방지).
3.  **Hip Alternation Reward**: 기존 V3의 조건은 보조 보상으로 유지 (가중치 축소).

---
*이 문서는 프로젝트 최종 보고서의 '실패 분석 및 개선 사례' 섹션에 활용할 수 있습니다.*
